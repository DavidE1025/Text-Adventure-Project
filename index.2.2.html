<!DOCTYPE html>
<html>
	<!-- David A. Emory 
			10/02/2014
			Text Adventure Game v0.4 -->
	<head> 
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<meta name="author" content="David Emory"> 
		<title>David Emory's: Treasure on Ghost Island  v0.4</title>
		  <!-- Still working on the title --> 
	<script>
	// Player location and Point scoring variables 
	  var playerLoc = 0;
	  var score = 0;
	  
	//Visited Location 
	  var visitedLoc_0 = false;
	  var visitedLoc_1 = false;
	  var visitedLoc_2 = false; 
	  var visitedLoc_3 = false;
	  var visitedLoc_4 = false; 
	  var visitedLoc_5 = false;
	  var visitedLoc_6 = false; 
  
	//Display Text 
	  function dispMsg(msg) { 
			  var message = document.getElementById("taDisplay");  
				    message.scrollTop = message.scrollHeight
			// Above found on http://stackoverflow.com/questions/7373081/how-to-have-a-textarea-to-keep-scrolled-to-the-bottom-when-updated
				message.value += msg+"\n\n";
		}	
		//Display Score
		 
		function dispScore(){ 
			var targetScore = document.getElementById("taScore"); 
				targetScore.value = score; 
	  }
	  
	  //Score Counter
	    
	  function scrCounter(){
          if (visitedLoc_0 === false && playerLoc === 0){ 
              visitedLoc_0 = true; 
              score += 5 
              dispScore(); 
          } 
          if (visitedLoc_1 === false && playerLoc === 1){
              visitedLoc_1 = true; 
              score += 5; 
              dispScore(); 
          }
          if (visitedLoc_2 === false && playerLoc === 2){
              visitedLoc_2 = true; 
              score += 5;  
              dispScore();
          }
          if (visitedLoc_3 === false && playerLoc === 3){ 
              visitedLoc_3 = true; 
              score += 5;
              dispScore();
          }
          if (visitedLoc_4 === false && playerLoc === 4){ 
              visitedLoc_4 = true; 
              score += 5 
              dispScore(); 
          }
          if (visitedLoc_5 === false && playerLoc === 5){ 
              visitedLoc_5 = true; 
              score += 5 
              dispScore(); 
          }
          if (visitedLoc_6 === false && playerLoc === 6){ 
              visitedLoc_6 = true; 
              score += 5 
              dispScore(); 
          }         
    }    
    function btnGo_Click(){
        var targetCommand = document.getElementById("txtCommand")
        if (targetCommand = "N" ){ 
            btnNorth_Click()     
        }
    
    }

	  //onload function 
	  
	  function location_Onload() {
       switch(playerLoc){
          case 0: 
            playerLoc = 0; 
            scrCounter();
            dispMsg("You are currently on your ship. You have landed on a beach in search of treasure said to be on the island. The only possible way to go is to the east on to the beach as there is ocean all around you.");
       }
    }
    
    //Functions for buttons        
           
	  function btnNorth_Click(){	  
	     switch(playerLoc){
	       case 1:
          playerLoc = 3;
          scrCounter(); 
					dispMsg("You walk into the forest. It is dark in every direction and you can hear noises of creatures in the distance.");
				 break; 
				 case 2:
						playerLoc = 1; 
						dispMsg("You walk back to the beach. There is a mountain to the east, a forest to the north, and a bridge leading to a mansion in the south. ");
				 break;
				 default:   
						dispMsg("Stop, you cannot go that way."); 
		    }
		}   
	    function btnSouth_Click(){	   
			   switch(playerLoc){
			       case 1: 
			         playerLoc = 2;
					     scrCounter(); 
					     dispMsg("You reach a bridge. It is destroyed and you have no other direction to go.");
			       break;  
				     case 3:  
						   playerLoc = 1; 
						   dispMsg("You walk back to the beach. There is a mountain to the east, a forest to the north, and a bridge leading to a mansion in the south. "); 
					   break;
					   default:  
               dispMsg("Stop, you cannot go that way."); 
		      }	
		  } 
		function btnEast_Click(){	   
			  switch(playerLoc) { 
			      case 0: 
			        playerLoc = 1;
			        scrCounter(); 
					    dispMsg("You walk east onto the beach. To the north there is a forset, to the south a bridge, to the east a mountian, and back to the west is your ship.");
            break; 
					  case 1:
						  playerLoc = 4;
						  dispMsg("You head east the mountain looms over head as you approach it. There is a path to the north leading up the mountain and a path to the east into a cave.");
					  break;
					  default:  
						  dispMsg("Stop, you cannot go that way.");	
				}	
		}	  	
		function btnWest_Click(){
			  switch(playerLoc){
				    case 1:
				      playerLoc = 0;
				      scrCounter();
				      dispMsg("You walk west onto your ship. You cannot leave without the treasure!");
			      break;
			      case 4:   
			        playerLoc = 1;
					    dispMsg("You walk back to the beach. There is a mountain to the east, a forest to the north, and a bridge leading to a mansion in the south. ");
				    break;
				    default: 
					    dispMsg("Stop, you cannot go that way.");
			  }		
		}	

	</script>
	<body onload = "location_Onload()"; style = "text-align: center" >
		<h1> Treasure on Ghost Island  v0.4 </h1>
		<textarea rows="20"  cols="60" id="taDisplay" readonly> </textarea>
		<br>
		<input type = "button"; 
           id   = "btnGo";
           value = "Go" ;
           onclick = "btnGo_Click()";/> 
           
		<input type = "text";
           id   = "txtCommmand";
           placeholder = "Enter Your Command"/>
          <br/>
		<input type = "button";
			   value = "North"; 
			   id    = "btnNorth"; 
			   onclick = "btnNorth_Click();" /> 
			   
		<input type = "button"; 
			   value = "South";
			   id    = "btnSouth"; 
			   onclick = "btnSouth_Click();" />
			   
		<input type = "button"; 
			   value = "West";
			   id    = "btnWest";
			   onclick = "btnWest_Click();" />
		
		<input type = "button"; 
			   value = "East";
			   id    = "btnEast"; 
			   onclick = "btnEast_Click();" /> 
		<p> Score
		<br>
		<textarea rows="1" cols= "5" id="taScore" readonly></textarea>
		</p>
		<p> Having Issues? 
		<a href="mailto:david.emory@marist.edu"> Click Here </a> 
		</p>
		<p> 
		<a href="http://validator.w3.org/#validate_by_input"> Validate </a>	
		</p>
	</body>
</html>